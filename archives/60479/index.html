<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="个人博客，记录生活 / 学习杂事">
    <meta name="author" content="Zero-PointEnergy">
    
    <title>
        
            搭建记录 |
        
        真空零点
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"zero-pointenergy.net","root":"/","language":"en","path":"search.xml"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.png","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"大 都 好 物 不 坚 牢 ， 彩 云 易 散 琉 璃 脆 。"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="真空零点" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                真空零点
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class="active"
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class="active"
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">搭建记录</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.png">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Zero-PointEnergy</span>
                        
                            <span class="author-label">Lv1</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-12-02 20:45:57
    </span>
    
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>4.9k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>19 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>本文是我用于记录同时带有分享性质的文章，主要记录的是我这个博客从无到有的搭建（含美化）。同时因为统合多篇文章内容，可能会有相当部分的内容被省略，但我会尽可能提供参考过的原文章链接，也可直接前往原作者文章了解详情。</p>
<p>计划是：先从本地 push 到 GitHub，然后再从服务器 pull GitHub 的库。因为我并不确定我服务器什么时候被 GFW 拦截，所以以防万一用 GitHub 当备份。</p>
<p>请注意，我的系统是 Windows 11，版本号是 22504.1010.0 。如有部分差别请自行寻找你所使用的系统版本的相同功能程序 / 操作。</p>
<p>那么，スタート！</p>
<hr>

<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><h3 id="跟-Google-签订战略合作伙伴协议"><a href="#跟-Google-签订战略合作伙伴协议" class="headerlink" title="跟 Google 签订战略合作伙伴协议"></a>跟 Google 签订战略合作伙伴协议</h3><p>需要准备的东西有：</p>
<ul>
<li>基本启动资金</li>
<li>合适的服务器提供 / 运营商</li>
<li>学会任意的攀爬 / 墙体施工 / 魔法技术</li>
</ul>
<p>准备好了之后通过 <code>ssh</code> 链接到自己服务器上，然后 <strong>⌈数据删除⌋</strong> 。</p>
<p>之后就可以看到 Google 的界面了</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/GooglePage.4ot7pyep28a0.png" alt="GooglePage" style="zoom:50%;" />

<p>此时说明和 Google 签订的协议生效了。</p>
<p>通过 Google 我发现了 <a class="link"   target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249" >GitHub+Hexo 搭建个人网站详细教程<i class="fas fa-external-link-alt"></i></a> 。参照这篇文章我的工程得以继续。</p>
<h2 id="Blog-建设进程"><a href="#Blog-建设进程" class="headerlink" title="Blog 建设进程"></a>Blog 建设进程</h2><h3 id="获得个人域名"><a href="#获得个人域名" class="headerlink" title="获得个人域名"></a>获得个人域名</h3><p>国内的域名提供商可以选<a class="link"   target="_blank" rel="noopener" href="https://wanwang.aliyun.com/domain" >万网<i class="fas fa-external-link-alt"></i></a>，<a class="link"   target="_blank" rel="noopener" href="https://cloud.tencent.com/" >腾讯云<i class="fas fa-external-link-alt"></i></a>等，同时需要备案。</p>
<p>国外的域名提供商有 <a class="link"   target="_blank" rel="noopener" href="https://www.anrdoezrs.net/" >Dynadot<i class="fas fa-external-link-alt"></i></a>, <a class="link"   target="_blank" rel="noopener" href="https://www.tkqlhce.com/" >NameCheap<i class="fas fa-external-link-alt"></i></a>, <a class="link"   target="_blank" rel="noopener" href="https://www.namesilo.com/" >NameSilo<i class="fas fa-external-link-alt"></i></a> 等，免备案。</p>
<h3 id="GitHub-创建个人仓库"><a href="#GitHub-创建个人仓库" class="headerlink" title="GitHub 创建个人仓库"></a>GitHub 创建个人仓库</h3><p>这没什么好讲的，注册一个 GitHub 账号（若无），登录后找到 <code>New repository</code> 创建新仓库。要注意的是库名应当是：<code>自己的用户名.github.com</code>。我的是：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/GitHubRepositories.77z0pkma2u80.png" alt="GitHubRepositories"></p>
<h3 id="Git-安装"><a href="#Git-安装" class="headerlink" title="Git 安装"></a><a name="Git_Install" style="text-decoration: none;">Git 安装</a></h3><p>要安装，你需要先访问 <a class="link"   target="_blank" rel="noopener" href="https://git-scm.com/download/win" >https://git-scm.com/download/win<i class="fas fa-external-link-alt"></i></a> 进行下载，这是 Git 的官方下载页面。</p>
<p>安装成功后通过<code>git --version</code> 验证安装。出现如图</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/gitVersion.m650f7jotd.png" alt="gitVersion"></p>
<p>效果，能输出当前版本号后，安装成功。</p>
<p>然后打开 Git Bash ，输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的 GitHub 用户名&quot;</span></span><br><span class="line">git condig --global user.email <span class="string">&quot;你的 GitHub 邮箱&quot;</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的 GitHub 邮箱&quot;</span></span><br></pre></td></tr></table></figure>

<p>这个 <code>ssh-keygen</code>是用来生成 ssh 密钥文件的，直接回车三连即可。生成的密钥文件在 <code>C:\Users\你的用户名\.ssh</code>路径下，找到 <code>id_rsa.pub</code>密钥，取其内容，欸~，然后打开 <a class="link"   target="_blank" rel="noopener" href="https://github.com/settings/keys" >https://github.com/settings/keys<i class="fas fa-external-link-alt"></i></a> 页面，new 一个 SSH key，将刚刚复制的内容粘贴进去，起个名字，然后 Add SSH key 就行。</p>
<p>回去 Git Bash，输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh git@github.com</span><br></pre></td></tr></table></figure>

<p>回车后应当显示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/gitSSHTest.7ewbwg1f1v80.png" alt="gitSSHTest"></p>
<p>如果你也是这样的话，那么恭喜，可行，进入下一步。</p>
<h3 id="Node-js-安装"><a href="#Node-js-安装" class="headerlink" title="Node.js 安装"></a>Node.js 安装</h3><p>我早已安装了 Node.js ，所以我并不想做演示。可以进入 <a class="link"   target="_blank" rel="noopener" href="https://nodejs.org/en/download/" >https://nodejs.org/en/download/<i class="fas fa-external-link-alt"></i></a> 下载并安装。</p>
<p>或者 Windows 11 的用户貌似可以使用 winget 来进行安装。打开终端输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install nodejs</span><br></pre></td></tr></table></figure>

<p>等待就好。</p>
<p>安装成功后，在终端检验<code>nodejs</code>和<code>npm</code>是否成功，分别输入 <code>node -v</code>和<code>npm -v</code> ，若成功则出现当前的版本：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/node&npm-v.14emhtsd9c1s.png" alt="node&amp;npm-v"></p>
<p>至此，安装 Hexo 的环境搭建完成。</p>
<h3 id="Hexo-安装"><a href="#Hexo-安装" class="headerlink" title="Hexo 安装"></a>Hexo 安装</h3><h4 id="Hexo-是什么？"><a href="#Hexo-是什么？" class="headerlink" title="Hexo 是什么？"></a>Hexo 是什么？</h4><blockquote>
<p>Hexo is a fast, simple and powerful blog framework. You write posts in <a class="link"   target="_blank" rel="noopener" href="http://daringfireball.net/projects/markdown/" >Markdown<i class="fas fa-external-link-alt"></i></a> (or other markup languages) and Hexo generates static files with a beautiful theme in seconds.</p>
<p>Hexo 是一个快速、简单又强大的 blog 框架。您用 Markdown 或其他标记语言所写的文章，Hexo都能在几秒内生成美丽的静态文件。</p>
</blockquote>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>新建文件夹用于存放你的博客网站，譬如我在 D 盘新建文件夹 Blog。</p>
<p>先别急着进入更改创建的 Blog 文件夹。在当前目录右键，选择在此打开命令行。我的则是 “ 在此打开终端 ”</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/openInWindowsTerminal.38k98jx5hzk0.png" alt="openInWindowsTerminal"></p>
<p>使用 npm 命令安装 hexo，在命令提示符或终端中输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>完成之后输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init [你的 Blog 文件夹名](我的就叫 Blog )</span><br></pre></td></tr></table></figure>

<p>此时你的 Blog 文件夹应该包含这些文件 / 文件夹：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoDirs.1fvaclzt4gww.png" alt="hexoDirs"></p>
<p>现在你的 hexo 框架已经安装好了。</p>
<p>( 终端 ) 进入到你所创建的 Blog 文件夹，输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>在执行了 <code>hexo s</code> 的命令后，会出现一行 <strong><code>INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</code></strong> 提示。 这个时候访问 <a class="link"   target="_blank" rel="noopener" href="http://127.0.0.1:4000/" >http://127.0.0.1:4000<i class="fas fa-external-link-alt"></i></a> 或 <a class="link"   target="_blank" rel="noopener" href="http://localhost:4000/" >http://localhost:4000<i class="fas fa-external-link-alt"></i></a> 即可进入 hexo 初始的网页。</p>
<p>hexo 博客基本框架已经搭建完成，接下来该做的就只是美化和部署了。</p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><h3 id="部署到-GitHub"><a href="#部署到-GitHub" class="headerlink" title="部署到 GitHub"></a>部署到 GitHub</h3><p>部署到 GitHub 会需要用到 Git 工具，这也是为什么我们先前已经实现安装了 Git 。</p>
<p>要实现网站的推送，首先得去 Blog 根目录里面的 _config.yml ( 被称为站点配置文件 ) 文件进行编辑。</p>
<p>用任意记事本类工具打开即可。</p>
<p>翻到最后的 deploy : </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>将它修改并保存</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> [<span class="string">你仓库的</span> <span class="string">URL</span> <span class="string">|</span> <span class="string">git@github.com:</span>[<span class="string">你的</span> <span class="string">GitHub</span> <span class="string">用户名</span>]<span class="string">/</span>[<span class="string">GitHub</span> <span class="string">用户名</span>]<span class="string">.github.io</span>]<span class="string">.git</span></span><br><span class="line">  <span class="comment"># repo 的格式可以为 https://github.com/example/example.github.io.git</span></span><br><span class="line">  <span class="comment"># 或者 git@github.com:example/example.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure>

<p>安装 Git 部署插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>三句话，让 hexo 为我部署到 GitHub。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean	<span class="comment"># 清除缓存，网页正常可不使用</span></span><br><span class="line">hexo g	<span class="comment"># 渲染成静态页面</span></span><br><span class="line">hexo d	<span class="comment"># 上传渲染的静态页面</span></span><br></pre></td></tr></table></figure>



<h3 id="部署到-VPS"><a href="#部署到-VPS" class="headerlink" title="部署到 VPS"></a>部署到 VPS</h3><h4 id="开始前程序"><a href="#开始前程序" class="headerlink" title="开始前程序"></a>开始前程序</h4><ul>
<li>用 ssh 登录到你的服务器，并使用你的包管理安装 <code>Nginx</code> 和 <code>Git</code> </li>
<li>要配置 VPS 上 的 <code>Git</code> ，请参考 <a href="#Git_Install">此处 </a> 。</li>
</ul>
<h4 id="开始搭建"><a href="#开始搭建" class="headerlink" title="开始搭建"></a>开始搭建</h4><h5 id="Clone-仓库"><a href="#Clone-仓库" class="headerlink" title="Clone 仓库"></a>Clone 仓库</h5><p>要想能够访问到 VPS 服务器上的 Blog 页面，没有对应的 HTML 文件怎么行。<code>cd</code> 到你页面文件夹中，譬如我的路径是 <code>/var/www/wwwroot/blog.zero-pointenergy.net</code> （ 请先创建相关文件夹 ）使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/wwwroot/blog.zero-pointenergy.net</span><br></pre></td></tr></table></figure>

<p>随后用 <code>git clone</code> 将 GitHub 仓库克隆到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法是 git clone git@github.com:[你的 GitHub 名]/[你的仓库名].git</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:Zero-PointEnergy/Zero-PointEnergy.github.io.git</span><br></pre></td></tr></table></figure>

<p>我们可以看到，在本文件夹内出现了以你库名命名的文件夹：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoGitClone.7ex0pplfpec0.png" alt="hexoGitClone"></p>
<p>以我为例，接下来我需要让 nginx 找到本文件夹 <code>/var/www/wwwroot/blog.zero-pointenergy.net/Zero-PointEnergy.github.io</code> 下的 index.html 主页文件。</p>
<p>进入 nginx 目录 ( <code>/etc/nginx</code> ) 。这里有我们需要的配置文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx</span><br></pre></td></tr></table></figure>

<p>nginx 目录里面有一个 <code>nginx.conf</code> 文件，在目录下有个 conf.d 文件夹，它里面有个 default.conf 。他们的工作方式是 优先使用 nginx.conf ，然后再使用 default.conf 。</p>
<p>那么显然可以进使用一个 <code>.conf</code> 文件来配置我们的网站。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim nginx.conf</span><br></pre></td></tr></table></figure>

<p>原 html 内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http</span> &#123;</span><br><span class="line">    <span class="string">include</span>       <span class="string">/etc/nginx/mime.types;</span></span><br><span class="line">    <span class="string">default_type</span>  <span class="string">application/octet-stream;</span></span><br><span class="line">    <span class="string">log_format</span>  <span class="string">main</span>  <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot;&#x27;</span></span><br><span class="line">                      <span class="string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span><span class="string">;</span></span><br><span class="line">    <span class="string">access_log</span>  <span class="string">/var/log/nginx/access.log</span>  <span class="string">main;</span></span><br><span class="line">    <span class="string">sendfile</span>        <span class="string">on;</span></span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line">    <span class="string">keepalive_timeout</span>  <span class="number">65</span><span class="string">;</span></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line">    <span class="string">include</span> <span class="string">/etc/nginx/conf.d/*.conf;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们应该把那行 <code>include /etc/nginx/conf.d/*.conf</code> 先注释掉，因为它会引入 <code>conf.d</code> 文件夹里面的所有配置文件，可能会导致页面报错。</p>
<p>并且应该增加</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">server</span> &#123;</span><br><span class="line">	<span class="string">listen</span> <span class="number">80</span><span class="string">;</span></span><br><span class="line">	<span class="string">listen</span> <span class="number">443</span><span class="string">;</span>	<span class="comment"># 用于支持 https 协议，可不写</span></span><br><span class="line">	<span class="string">server_name</span> <span class="string">zero-pointenergy.net</span> <span class="string">www.zero-pointenergy.net;</span>	<span class="comment"># 写自己的域名</span></span><br><span class="line">	<span class="string">location</span> <span class="string">/</span> &#123;</span><br><span class="line">		<span class="comment"># root 是你的网站的路径，在该路径下要有主页文件，否则会报错</span></span><br><span class="line">		<span class="string">root</span> <span class="string">/var/www/wwwroot/blog.zero-pointenergy.net/Zero-PointEnergy.github.io;</span></span><br><span class="line">		<span class="string">index</span> <span class="string">index.html</span>	<span class="comment"># index 是你的主页文件。必须包含 主页文件名.后缀</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改为：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http</span> &#123;</span><br><span class="line">    <span class="string">include</span>       <span class="string">/etc/nginx/mime.types;</span></span><br><span class="line">    <span class="string">default_type</span>  <span class="string">application/octet-stream;</span></span><br><span class="line">    <span class="string">log_format</span>  <span class="string">main</span>  <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot;&#x27;</span></span><br><span class="line">                      <span class="string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span><span class="string">;</span></span><br><span class="line">    <span class="string">access_log</span>  <span class="string">/var/log/nginx/access.log</span>  <span class="string">main;</span></span><br><span class="line">    <span class="string">sendfile</span>        <span class="string">on;</span></span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line">    <span class="string">keepalive_timeout</span>  <span class="number">65</span><span class="string">;</span></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line">    <span class="comment">#include /etc/nginx/conf.d/*.conf;</span></span><br><span class="line">    <span class="string">server</span> &#123;</span><br><span class="line">        <span class="string">listen</span> <span class="number">80</span><span class="string">;</span></span><br><span class="line">        <span class="string">server_name</span> <span class="string">zero-pointenergy.net</span> <span class="string">www.zero-pointenergy.net;</span></span><br><span class="line">        <span class="string">location</span> <span class="string">/</span> &#123;</span><br><span class="line">                <span class="string">root</span> <span class="string">/var/www/wwwroot/blog.zero-pointenergy.net/Zero-PointEnergy.github.io;</span></span><br><span class="line">                <span class="string">index</span> <span class="string">index.html;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在可以通过 <code>server_name</code> 的域名访问了。</p>
<h5 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h5><h6 id="创建-Git-用户并添加到-root-用户组"><a href="#创建-Git-用户并添加到-root-用户组" class="headerlink" title="创建 Git 用户并添加到 root 用户组"></a>创建 Git 用户并添加到 root 用户组</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adduser git</span><br><span class="line">gpaaswd -a git root</span><br></pre></td></tr></table></figure>

<p>然后编辑 <code>vim /etc/sudoers</code> 文件，查找到 <code>    root    ALL=(ALL)       ALL</code> 这行。在下行添加 <code>git    ALL=(ALL)       ALL</code> （中间的空格是一个 TAB ）。因为我们刚刚编辑的是 read-only 文件，所以需要通过 <code>:wq!</code> 来强制保存退出。</p>
<h6 id="创建-Git-仓库"><a href="#创建-Git-仓库" class="headerlink" title="创建 Git 仓库"></a>创建 Git 仓库</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line">mkdir blog.git</span><br><span class="line"><span class="built_in">cd</span> blog.git</span><br><span class="line">git init --bare</span><br></pre></td></tr></table></figure>

<p>请注意：可能会需要在此处进入 <code>branches</code> 目录，创建你的分支文件夹才可在后续执行 <code>hexo d</code> 命令时在 GitHub 和你的服务器上同步部署。否则服务器端通过 Git Hooks 同步部署将会失效。可执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> branches</span><br><span class="line">mkdir master</span><br></pre></td></tr></table></figure>

<p>此处建立的 <code>master</code> 文件夹是分支目录。虽然GitHub 把默认分支从 <code>master</code> 改为了 <code>main</code> ，你推到 GitHub 的时候已经使用了 <code>main</code> 分支，那么不能再使用它，因为他们同名会导致只能部署到一处。所以我还是给在 VPS 上建为 <code>master</code> 了，如此配置可以保证推完 GitHub 还能继续同步至我们的 VPS 上。</p>
<p>随后需要将 <code>/var/www/wwwroot/blog.zero-pointenergy.net/Zero-PointEnergy.github.io</code> 目录的拥有者变更为 git</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown git:git -R /var/www/wwwroot/blog.zero-pointenergy.net/Zero-PointEnergy.github.io</span><br></pre></td></tr></table></figure>

<h5 id="SSH-Key-配置"><a href="#SSH-Key-配置" class="headerlink" title="SSH Key 配置"></a>SSH Key 配置</h5><p>需要先获取你本地电脑的 SSH Key，找到 <code>id_rsa.pub</code> 文件。Windows 用户的这个文件一般在 <code>C:\Users\用户名\.ssh</code>  路径下。</p>
<p>打开并复制里面的内容并写入到服务器的 <code>authorized_keys</code> 中。我是复制之后登录到 VPS 上粘贴进去的（我不会那个命令），其路径在 <code>~/.ssh</code> 。</p>
<p>请自行粘贴到 <code>authorized_keys</code> ，同时确保内容只有一行。</p>
<h5 id="添加-Git-Hooks"><a href="#添加-Git-Hooks" class="headerlink" title="添加 Git Hooks"></a>添加 Git Hooks</h5><p>现在我们需要编辑 <code>post-receive</code> 。它的路径应该要在刚刚建立的 blog.git 内，为 <code>~/blog.git/hooks/</code> 。</p>
<p>那么运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span> ~/blog.git/hooks</span><br><span class="line">vim post-receive</span><br></pre></td></tr></table></figure>

<p>然后输入以下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> GIT_REPO=/home/git/blog.git</span><br><span class="line"> TMP_GIT_CLONE=/tmp/blog</span><br><span class="line"> PUBLIC_WWW= <span class="comment">#此处填入上方更改目录所有者时的路径</span></span><br><span class="line"> rm -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span></span><br><span class="line"> git <span class="built_in">clone</span> <span class="variable">$GIT_REPO</span> <span class="variable">$TMP_GIT_CLONE</span></span><br><span class="line"> rm -rf <span class="variable">$&#123;PUBLIC_WWW&#125;</span>/*</span><br><span class="line"> cp -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span>/* <span class="variable">$&#123;PUBLIC_WWW&#125;</span></span><br></pre></td></tr></table></figure>

<p>最后需要修改 <code>post-receive</code> 的文件权限，使它可执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x post-receive</span><br></pre></td></tr></table></figure>

<h5 id="Hexo-配置"><a href="#Hexo-配置" class="headerlink" title="Hexo 配置"></a>Hexo 配置</h5><p>回到本地。</p>
<p>将自己的 Hexo 文件夹的站点配置文件 <code>_config.yml</code> 在稍微修改下，增加 VPS 的 repo：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@github.com:Zero-PointEnergy/Zero-PointEnergy.github.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@zero-pointenergy.net:/~/blog.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<p>等等，怎么和上面<a href="#deployToGithub">部署在 GitHub</a> 的时候好像不一样啊喂？为什么要这样写？</p>
<p>Hexo 是支持多端同步部署的。它有个语法是：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@[你自己的服务器</span> <span class="string">IP</span> <span class="string">或域名]:[blog.git</span> <span class="string">路径]</span></span><br><span class="line">    <span class="attr">branch:</span> [<span class="string">自己的分支</span>]</span><br></pre></td></tr></table></figure>

<p>其中的 <code>&lt;username&gt;</code> 就是需要用你自己的 GitHub 的用户名替换，出现的 <code>[]</code> 请根据提示信息自行填入。</p>
<p>现在可以在 <code>hexo g -d</code> 的时候同时同步在 GitHub 和 VPS 上了。 </p>
<p>一切准备就绪。</p>
<h2 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h2><h3 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h3><p>我感觉 Hexo 的默认主题太泛滥了，有些许厌恶。于是浏览了 <a class="link"   target="_blank" rel="noopener" href="https://hexo.io/themes/" >Hexo Themes<i class="fas fa-external-link-alt"></i></a> 后觉得 Keep 这个主题还不错，于是选用了它。那么就以 Keep 为例，进行主题的替换。</p>
<p>在 <a class="link"   target="_blank" rel="noopener" href="https://xpoet.cn/" >XPoet’s Blog<i class="fas fa-external-link-alt"></i></a> 中，给出了关于 Keep 主题的使用指南。以下将围绕官方文档进行主题安装。</p>
<h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>先进入你的 Blog 的根目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hexo-site</span><br></pre></td></tr></table></figure>

<p>随后可以选择使用 <code>npm</code> 的方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-theme-keep</span><br></pre></td></tr></table></figure>

<p>或使用 <code>git</code> 方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/XPoet/hexo-theme-keep themes/keep</span><br></pre></td></tr></table></figure>

<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>找到你 Blog 的根文件夹下的 _config.yml 文件，打开它，找到 <code>themes</code> 修改它冒号后面的内容为你的主题名。</p>
<p>例如，默认的是：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br></pre></td></tr></table></figure>

<p>修改为自己想要的主题是：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">keep</span></span><br></pre></td></tr></table></figure>

<p>立竿见影的效果！</p>
<h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><p>若是通过 npm 更改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hexo-site</span><br><span class="line">npm update hexo-theme-keep</span><br></pre></td></tr></table></figure>

<p>通过 git 更新则：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hexo-site/themes/keep</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>从这里开始我们将接触到 _config.yml 文件。它并不是站点配置的那个，而是主题配置文件。这里要配置的 _config.yml 文件位于 themes/[主题名] 下。</p>
<h5 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h5><p>此处用于配置网站的基本信息。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_basicInfo.2svuzrg01jc0.png" alt="hexoThemeConfigYML_basicInfo" style="zoom:50%;" />

<p><code>title</code> 是显示在网站顶部左上角的信息。它不是 HTML 中 <code>&lt;title&gt;</code> 标签对应的 title 。</p>
<p><code>author</code> 是显示在页面底部和内容页的作者昵称。</p>
<p><code>url</code> 是将用于文章内容页面版权信息模块，让其能够正确拼接文章链接。</p>
<h5 id="基本样式"><a href="#基本样式" class="headerlink" title="基本样式"></a>基本样式</h5><p>此处用于配置网站的基本样式。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_styleSettings.5dwmdqj29gw0.png" alt="hexoThemeConfigYML_styleSettings" style="zoom:50%;" />

<p><code>primary_color</code> 是网站的主题色。</p>
<p><code>avatar</code> 是作者头像，显示在文章内容页。可以使用本地图片 ( 路径是<code>keep/source/images</code> 下的图片)，也可使用外链 URL</p>
<p><code>favicon</code> 是网站 favicon 图标。即是浏览器上方标签页的 icon 。引用方式同 <code>avatar</code> 。</p>
<p><code>article_img_align</code> 是设置文章内容页的图片排列位置。默认 <code>left</code> ，可选 <code>left</code> ，<code>center</code> 。</p>
<p><code>hover</code> 是设置鼠标悬浮时的样式 ( 主页文章块、TOC 目录块、按钮等 )，允许分别开启阴影 <code>shadow</code> 和缩放 <code>scale</code> 效果。</p>
<p><code>frist_screen</code> 是本主题 3.0.0 版本时新增的首屏模块，开启后会显示在网站首页。<code>eanble</code> 是否开启，<code>background</code> 首屏背景图片，引用方式同 <code>favicon</code> ，<code>description</code> 是首屏描述。</p>
<p><code>scroll</code> 是设置页面滚动时的样式。<code>progress_bar</code> 是页面滚动时顶部显示滚动进度条，<code>percent</code> 页面滚动时右下角显示滚动百分比。</p>
<h5 id="第三方链接"><a href="#第三方链接" class="headerlink" title="第三方链接"></a>第三方链接</h5><p>此处用于配置第三方社交连接。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_socialMedia.4l9ep0q6qbg0.png" alt="hexoThemeConfigYML_socialMedia" style="zoom:50%;" />

<p>注意：<code>social_contact</code> 仅在首屏开启时有效。</p>
<p>如要<strong>更改图标</strong>或<strong>添加其他第三方的链接</strong>请参考 <a class="link"   target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html#social-contact" >此处<i class="fas fa-external-link-alt"></i></a> 。</p>
<h5 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h5><p>此处用于配置顶部导航菜单。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_navigatonMenu.52d06o846000.png" alt="hexoThemeConfigYML_navigatonMenu" style="zoom:50%;" />

<p>若需新增导航菜单，需要按照上方格式增加，并且需要创建相对应的 Hexo 页面。</p>
<p>Hexo 并不自带 categories, tags, about, links 等页面，需自行创建。</p>
<p>创建实例请参考 <a class="link"   target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html#menu" >此处<i class="fas fa-external-link-alt"></i></a> 。</p>
<h5 id="标签和分类"><a href="#标签和分类" class="headerlink" title="标签和分类"></a>标签和分类</h5><p>此处用于设置首页文章块底部的标签和分类信息显示。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_homeArticle.1s9buyp9s8ww.png" alt="hexoThemeConfigYML_homeArticle" style="zoom:50%;" />

<p><code>category</code> 是文章分类。</p>
<p><code>tag</code> 是文章标签。</p>
<p><code>limit</code> 是限制显示的个数。</p>
<h5 id="字数、阅读时长统计和作者标识。"><a href="#字数、阅读时长统计和作者标识。" class="headerlink" title="字数、阅读时长统计和作者标识。"></a>字数、阅读时长统计和作者标识。</h5><p>此处用于设置是否显示文章字数统计、阅读时长和作者标识。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_postSettings.6tiqhrqag7g0.png" alt="hexoThemeConfigYML_postSettings" style="zoom:50%;" />

<p><code>word_count</code> ：如需开启文章字数统计和阅读时长，需在项目根目录安装依赖 Hexo-wordcount 。执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount</span><br></pre></td></tr></table></figure>

<ul>
<li><code>wordcount</code> 是文章字数统计</li>
<li><code>min2read</code> 是文章阅读时长</li>
</ul>
<p><code>author_label</code> ：设置文章内容页的<strong>作者标识</strong>，官方给出了两种方案：</p>
<ol>
<li><code>auto</code> 自动生成 <code>Lv1</code> , <code>Lv2</code> , <code>Lv3</code>,……。依据是文章数量。</li>
<li><code>custom_label_list</code> 自定标识列表，数组项大于等于一个。依据是文章数量。</li>
</ol>
<h5 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h5><p>此处用于设置<strong>代码复制</strong>功能。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_codeCopy.11vua09elpwg.png" alt="hexoThemeConfigYML_codeCopy" style="zoom:50%;" />

<p>若开启，则支持一键复制到粘贴板。</p>
<p><code>enable</code> 是否开启。</p>
<p><code>style</code> 设置该功能样式，可选 <code>default</code> 或 <code>mac</code> 。</p>
<h5 id="文章-TOC-目录"><a href="#文章-TOC-目录" class="headerlink" title="文章 TOC 目录"></a>文章 TOC 目录</h5><p>此处用于设置文章 TOC 目录。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_toc.6dhxm78t88s0.png" alt="hexoThemeConfigYML_toc" style="zoom:50%;" />

<p>该功能可以快速查看文章目录结构和跳转。</p>
<p><code>number</code> 为目录自动添加数字。</p>
<p><code>expand_all</code> 展开所有目录结构，其中：</p>
<ul>
<li>为 <code>true</code> 的效果是自动展开所有目录结构。</li>
<li>为 false 的效果是滚动页面时展开对应位置的目录。</li>
</ul>
<p><code>init_open</code> 打开文章页时是否自动打开 TOC 目录结构。</p>
<h5 id="版权信息"><a href="#版权信息" class="headerlink" title="版权信息"></a>版权信息</h5><p>此处用于开启文章内容页的文章版权信息模块。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_copyright.5rvrtigbczc0.png" alt="hexoThemeConfigYML_copyright" style="zoom:50%;" />

<h5 id="网站计数"><a href="#网站计数" class="headerlink" title="网站计数"></a>网站计数</h5><p>此处用于设置网站的计数。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_webCount.l239af5xlg0.png" alt="hexoThemeConfigYML_webCount" style="zoom:50%;" />

<p>本主题已经内置<strong>不蒜子</strong>计数，不用额外配置，可直接选择计数项。</p>
<p><code>site_uv</code> 是网站访问人数 ( 底部显示 )</p>
<p><code>site_pv</code> 是网站总访问量 ( 底部显示 )</p>
<p><code>page_pv</code> 是文章阅读次数 ( 文章内容页显示 )</p>
<h5 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h5><p>此处用于站内搜索，实用可开。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_localSearch.19m3m11b0xog.png" alt="hexoThemeConfigYML_localSearch" style="zoom:50%;" />

<p>需在项目根目录安装插件 <code>hexo-generator-searchdb</code> ，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb</span><br></pre></td></tr></table></figure>

<p>在站点配置文件添加</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Search</span></span><br><span class="line"><span class="comment">## See: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.json</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">striptags</span></span><br></pre></td></tr></table></figure>

<p>并在主题配置文件中将 <code>local_search.enable</code> 的值设为 <code>true</code> 。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><code>preload</code> 是表示是否在页面加载时预加载搜索数据。</p>
<h5 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h5><p>此处用于开关主题的评论系统。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_comment.7crfhjkj9y80.png" alt="hexoThemeConfigYML_comment" style="zoom:50%;" />

<p><code>use</code> 是选择哪款评论系统。本主题内置了 <code>Valine</code> , <code>Gittalk</code> 和 <code>Twikoo</code> 。</p>
<p>关于评论系统详情请参考 <a class="link"   target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html#comment" >此处<i class="fas fa-external-link-alt"></i></a> 。</p>
<h5 id="RSS-订阅"><a href="#RSS-订阅" class="headerlink" title="RSS 订阅"></a>RSS 订阅</h5><p>此处用途开启 RSS 订阅功能。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_RSS.3ush1qi8a5i0.png" alt="hexoThemeConfigYML_RSS" style="zoom:50%;" />

<p>开启流程是：</p>
<ol>
<li><p>在项目根目录安装插件 <code>hexo-generator-feed</code> ，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure></li>
<li><p>在站点配置文件增加以下内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Feed Atom</span></span><br><span class="line"><span class="comment"># npm install hexo-generator-feed</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br></pre></td></tr></table></figure></li>
<li><p>在主题配置文件中开启 RSS：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rss:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
<li><p>RSS 订阅功能开启后，在页面右下角工具按钮组内会出现 RSS 按钮。</p>
</li>
</ol>
<h5 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h5><p>此处用于开启图片懒加载。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_lazyLoad.13ucaauovqqk.png" alt="hexoThemeConfigYML_lazyLoad" style="zoom:50%;" />

<p>开启后，打开页面时不会加载所有图片。只有当视窗滚动到图片位置时才加载对应图片资源。</p>
<p>图片过多时开启懒加载可以有效提高加载速度。</p>
<h5 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h5><p>此处用于开启 CDN 加速功能。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_CDN.610jl4oz3w40.png" alt="hexoThemeConfigYML_CDN" style="zoom:50%;" />

<p>若你的 Blog 部署在海外服务器，建议开启 CDN。打开页面是会有较快的加载速度。</p>
<p>JS 资源和 CSS 资源的 CDN 请参考 <a class="link"   target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html#cdn" >此处<i class="fas fa-external-link-alt"></i></a> 。</p>
<h5 id="PJAX"><a href="#PJAX" class="headerlink" title="PJAX"></a>PJAX</h5><p>此处用于开启主题 PJAX 功能。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_PJAX.xt14gtje8lc.png" alt="hexoThemeConfigYML_PJAX" style="zoom:50%;" />

<p>PJAX 开启后，当页面转跳时，页面的顶部会出现彩色进度条。</p>
<h5 id="FOOTER"><a href="#FOOTER" class="headerlink" title="FOOTER"></a>FOOTER</h5><p>此处用于设置网站底部的信息展示。</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoThemeConfigYML_footerSettings.6t2e2m9ado00.png" alt="hexoThemeConfigYML_footerSettings" style="zoom:50%;" />

<p><code>since</code> 是设置网站起始年份。可为空值。</p>
<p><code>icp</code> 是设置网站 ICP 备案号。可为空值。</p>
<p>进阶设置和更多请参照 <a class="link"   target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/" >Keep 主题官方文档 <i class="fas fa-external-link-alt"></i></a> 。</p>
<h2 id="我遇到的错误"><a href="#我遇到的错误" class="headerlink" title="我遇到的错误"></a>我遇到的错误</h2><ol start="0">
<li><p>重启 nginx 时，报 <code>nginx: [error] open() &quot;/var/run/nginx.pid&quot; failed (2: No such file or directory)</code></p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/nginxErrOpenNginxPID_failed.5qpc1vsc9h40.png" alt="nginxErrOpenNginxPID_failed"  />

<p>这个问题 nginx 尚未启动导致的。将 nginx 启动即可解决。</p>
<p>参考链接：<a class="link"   target="_blank" rel="noopener" href="https://github.com/nginxinc/nginx-amplify-agent/issues/166" >https://github.com/nginxinc/nginx-amplify-agent/issues/166<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>执行 <code>hexo d</code> 的时候，提示 <code>ERROR Deployer not found: git</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoDeployerNotFoundGit.app6q9xe8gs.png" alt="hexoDeployerNotFoundGit"></p>
<p>这个问题只是在执行部署命令的时候，git 的信息未填写导致的。在配置了 git 的信息之后，问题解决。配置方式请参考 <a href="#Git_Install">此处</a> 。</p>
</li>
<li><p>执行 <code>hexo init</code> 时，报 <code>Error: EPERM: operation not permitted, mkdir &#39;&#39;</code> 错误</p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoOperateNotPermitted_mkdir.1dwe5vnnm5eo.png" alt="hexoOperateNotPermitted_mkdir"></p>
<p>这个问题是权限问题，只要以管理员权限启动命令行 / 终端就可解决大部分问题。</p>
</li>
<li><p>在执行 <code>hexo init</code> 时，报 <code>..\nodejs\node_global\hexo.ps1 cannot be loaded because ruuning scripts is disabled on this system.</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/hexoScriptsDisabled.6li4yrm48200.png" alt="hexoScriptsDisabled"></p>
<p>这个错误是 <code>PowerShell</code> 的执行策略导致的，为了防止恶意脚本的执行。</p>
<p>要解决这个问题很简单，请执行以下命令：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> <span class="literal">-ExecutionPolicy</span> RemoteSigned <span class="literal">-Scope</span> <span class="keyword">Process</span></span><br></pre></td></tr></table></figure>

<p>上述命令被执行后不再报执行策略错误。</p>
</li>
<li><p>正确修改 nginx 之后访问网站出现的 403 Forbidden 错误</p>
<img src="https://cdn.jsdelivr.net/gh/Zero-PointEnergy/imagesForBlog@master/20211202/webSiteNginx403Forbidden.6saq0e2ufgg0.png" alt="webSiteNginx403Forbidden" style="zoom:50%;" />

<p>用 yum 安装的 nginx 默认目录在 <code>/usr/share/</code> 下，当 SELinux 开启将会禁止访问在其他路径下的地址。</p>
<p>既然如此只需要将 SELinux 关闭即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/selinux</span><br></pre></td></tr></table></figure>

<p>在内容中找到 <code>SELINUX=enforcing</code> 将其修改成:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">SELINUX=disabled</span></span><br></pre></td></tr></table></figure>

<p>问题被解决。</p>
</li>
<li><p>无法部署到 GitHub 或 VPS 或其他：</p>
<p>把 Hexo 项目根目录的 <code>.deploy_git</code> 文件夹删了，然后重新执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<p>如果不行，多试几次。</p>
</li>
<li><p>其他问题忘记截图了，诶嘿~</p>
</li>
</ol>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：搭建记录</li>
        <li>Post author：Zero-PointEnergy</li>
        <li>Create time：2021-12-02 20:45:57</li>
        <li>
            Post link：https://www.zero-pointenergy.net/archives/60479/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/archives/65090/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Typora 完全使用手册</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>
              -
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Zero-PointEnergy</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="nav-text">写在前面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="nav-text">前期准备</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%9F-Google-%E7%AD%BE%E8%AE%A2%E6%88%98%E7%95%A5%E5%90%88%E4%BD%9C%E4%BC%99%E4%BC%B4%E5%8D%8F%E8%AE%AE"><span class="nav-text">跟 Google 签订战略合作伙伴协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Blog-%E5%BB%BA%E8%AE%BE%E8%BF%9B%E7%A8%8B"><span class="nav-text">Blog 建设进程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%BE%97%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D"><span class="nav-text">获得个人域名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GitHub-%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%BB%93%E5%BA%93"><span class="nav-text">GitHub 创建个人仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%E5%AE%89%E8%A3%85"><span class="nav-text">Git 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node-js-%E5%AE%89%E8%A3%85"><span class="nav-text">Node.js 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hexo-%E5%AE%89%E8%A3%85"><span class="nav-text">Hexo 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Hexo-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">Hexo 是什么？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-text">安装</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2"><span class="nav-text">部署</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E5%88%B0-GitHub"><span class="nav-text">部署到 GitHub</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E5%88%B0-VPS"><span class="nav-text">部署到 VPS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E5%89%8D%E7%A8%8B%E5%BA%8F"><span class="nav-text">开始前程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA"><span class="nav-text">开始搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Clone-%E4%BB%93%E5%BA%93"><span class="nav-text">Clone 仓库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5"><span class="nav-text">同步</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Git-%E7%94%A8%E6%88%B7%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0-root-%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-text">创建 Git 用户并添加到 root 用户组</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Git-%E4%BB%93%E5%BA%93"><span class="nav-text">创建 Git 仓库</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SSH-Key-%E9%85%8D%E7%BD%AE"><span class="nav-text">SSH Key 配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0-Git-Hooks"><span class="nav-text">添加 Git Hooks</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Hexo-%E9%85%8D%E7%BD%AE"><span class="nav-text">Hexo 配置</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BE%8E%E5%8C%96"><span class="nav-text">美化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E9%A2%98"><span class="nav-text">主题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-text">使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0"><span class="nav-text">更新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="nav-text">基本信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F"><span class="nav-text">基本样式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E9%93%BE%E6%8E%A5"><span class="nav-text">第三方链接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95"><span class="nav-text">导航菜单</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E5%92%8C%E5%88%86%E7%B1%BB"><span class="nav-text">标签和分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E6%95%B0%E3%80%81%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF%E7%BB%9F%E8%AE%A1%E5%92%8C%E4%BD%9C%E8%80%85%E6%A0%87%E8%AF%86%E3%80%82"><span class="nav-text">字数、阅读时长统计和作者标识。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6"><span class="nav-text">代码复制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E7%AB%A0-TOC-%E7%9B%AE%E5%BD%95"><span class="nav-text">文章 TOC 目录</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%88%E6%9D%83%E4%BF%A1%E6%81%AF"><span class="nav-text">版权信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BD%91%E7%AB%99%E8%AE%A1%E6%95%B0"><span class="nav-text">网站计数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2"><span class="nav-text">搜索</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%84%E8%AE%BA"><span class="nav-text">评论</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#RSS-%E8%AE%A2%E9%98%85"><span class="nav-text">RSS 订阅</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="nav-text">懒加载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CDN"><span class="nav-text">CDN</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#PJAX"><span class="nav-text">PJAX</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FOOTER"><span class="nav-text">FOOTER</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%91%E9%81%87%E5%88%B0%E7%9A%84%E9%94%99%E8%AF%AF"><span class="nav-text">我遇到的错误</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>





    
<script src="/js/code-copy.js"></script>





<div class="post-scripts pjax">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
